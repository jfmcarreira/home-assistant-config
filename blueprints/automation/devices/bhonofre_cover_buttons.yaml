blueprint:
  name: "[Devices] Controls for BHOnfre buttons"
  description: >
    Actions for buttons from the cover controls of BHOnfre using ESPHome

  domain: automation
  input:
    device:
      name: Device
      selector:
        text:
    main_double_top_action:
      name: Cover Double Top
      default: []
      selector:
        action:
    main_double_bottom_action:
      name: Cover Double Bottom
      default: []
      selector:
        action:
    main_triple_top_action:
      name: Cover Triple Top
      default: []
      selector:
        action:
    main_triple_bottom_action:
      name: Cover Triple Bottom
      default: []
      selector:
        action:
    single_top_action:
      name: Extra Single Top
      default: []
      selector:
        action:
    single_bottom_action:
      name: Extra Single Bottom
      default: []
      selector:
        action:
    double_top_action:
      name: Extra Double Top
      default: []
      selector:
        action:
    double_bottom_action:
      name: Extra Double Bottom
      default: []
      selector:
        action:
    triple_top_action:
      name: Extra Triple Top
      default: []
      selector:
        action:
    triple_bottom_action:
      name: Extra Triple Bottom
      default: []
      selector:
        action:
    long_top_action:
      name: Extra Long Top
      default: []
      selector:
        action:
    long_bottom_action:
      name: Extra Long Bottom
      default: []
      selector:
        action:

mode: single
max_exceeded: silent

triggers:
  - trigger: event
    id: cover_double_top
    event_type: esphome.button_pressed
    event_data:
      name: main_top
      type: double
      device: !input device

  - trigger: event
    id: cover_double_bottom
    event_type: esphome.button_pressed
    event_data:
      name: main_bottom
      type: double
      device: !input device

  - trigger: event
    id: cover_triple_top
    event_type: esphome.button_pressed
    event_data:
      name: main_top
      type: triple
      device: !input device

  - trigger: event
    id: cover_triple_bottom
    event_type: esphome.button_pressed
    event_data:
      name: main_bottom
      type: triple
      device: !input device

  - trigger: event
    id: extra_single_top
    event_type: esphome.button_pressed
    event_data:
      name: extra_top
      type: single
      device: !input device

  - trigger: event
    id: extra_single_bottom
    event_type: esphome.button_pressed
    event_data:
      name: extra_bottom
      type: single
      device: !input device

  - trigger: event
    id: extra_long_top
    event_type: esphome.button_pressed
    event_data:
      name: extra_top
      type: long
      device: !input device

  - trigger: event
    id: extra_long_bottom
    event_type: esphome.button_pressed
    event_data:
      name: extra_bottom
      type: long
      device: !input device

  - trigger: event
    id: extra_double_top
    event_type: esphome.button_pressed
    event_data:
      name: extra_top
      type: double
      device: !input device

  - trigger: event
    id: extra_double_bottom
    event_type: esphome.button_pressed
    event_data:
      name: extra_bottom
      type: double
      device: !input device

  - trigger: event
    id: extra_triple_top
    event_type: esphome.button_pressed
    event_data:
      name: extra_top
      type: triple
      device: !input device

  - trigger: event
    id: extra_triple_bottom
    event_type: esphome.button_pressed
    event_data:
      name: extra_bottom
      type: triple
      device: !input device

conditions: []
actions:
  - choose:
      - conditions:
          - condition: trigger
            id:
              - cover_double_top
        sequence: !input main_double_top_action
      - conditions:
          - condition: trigger
            id:
              - cover_double_bottom
        sequence: !input main_double_bottom_action

      - conditions:
          - condition: trigger
            id:
              - cover_triple_top
        sequence: !input main_triple_top_action
      - conditions:
          - condition: trigger
            id:
              - cover_triple_bottom
        sequence: !input main_triple_bottom_action
      - conditions:
          - condition: trigger
            id:
              - extra_single_top
        sequence: !input single_top_action
      - conditions:
          - condition: trigger
            id:
              - extra_single_bottom
        sequence: !input single_bottom_action
      - conditions:
          - condition: trigger
            id:
              - extra_double_top
        sequence: !input double_top_action
      - conditions:
          - condition: trigger
            id:
              - extra_double_bottom
        sequence: !input double_bottom_action

      - conditions:
          - condition: trigger
            id:
              - extra_triple_top
        sequence: !input triple_top_action
      - conditions:
          - condition: trigger
            id:
              - extra_triple_bottom
        sequence: !input triple_bottom_action

      - conditions:
          - condition: trigger
            id:
              - extra_long_top
        sequence: !input long_top_action
      - conditions:
          - condition: trigger
            id:
              - extra_long_bottom
        sequence: !input single_bottom_action
