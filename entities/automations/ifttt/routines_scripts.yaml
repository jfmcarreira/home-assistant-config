# This handles the launching routines from IFTTT
#
# https://www.home-assistant.io/integrations/ifttt/
#
# Body Template { "action": "routine", "service": <script_name> }
# 
# If You say "Mark Cat Litter Clean", then Make a web request
# If You say "Mark Cat Litter Change", then Make a web request
# If You say "Send Roborock to clean", then Make a web request
# If You say "Activate Dinner Time", then Make a web request
#
# Body configured in IFTTT
# { "action": "routine", "service":"script.roborock_send_kitchen" }
# { "action": "routine", "service":"script.routines_dinner_time" }
# { "action": "routine", "service":"script.cat_litter_clean" }
# { "action": "routine", "service":"script.cat_litter_change" }

id: IFTTT Launch Routine
alias: IFTTT Launch Routine
description: "Send Roborock to clean; Activate Dinner Time"
trigger:
  - event_data:
      action: routine
    event_type: ifttt_webhook_received
    platform: event
action:
  - service_template: '{{ trigger.event.data.service }}'
