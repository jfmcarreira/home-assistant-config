substitutions:
  DeviceName: shelly1_kitchen_extractor_fan
  FriendlyName: Shelly 1 Kitchen Extractor Fan
  PowerSaveMode: NONE

packages:
  esphome_base: !include packages/common.yml

esphome:
  name: ${DeviceName}
  platform: ESP8266
  board: esp01_1m

# Enable Home Assistant API
api:
  reboot_timeout: 600s

output:
  - platform: gpio
    pin: GPIO04
    id: relay_1

fan:
  - platform: binary
    output: relay_1
    name: Kitchen Extractor
    restore_mode: ALWAYS_ON


# binary_sensor:
#   - id: sw_1
#     platform: gpio
#     pin:
#       number: GPIO5
#     on_state:
#       then:
#         - if:
#             condition:
#               api.connected:
#             then:
#               - switch.turn_on: relay_1
#               - homeassistant.service:
#                   service: light.toggle
#                   data:
#                     entity_id: light.office
#             else:
#               - switch.toggle: relay_1

