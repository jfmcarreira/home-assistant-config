################################################################
## Power Consumption
################################################################
homeassistant:
  customize_glob:
    "sensor.power_usage_*":
      device_class: power
      icon: mdi:flash
      unit_of_measurement: "W"
    "sensor.*_power":
      device_class: power
      icon: mdi:flash
      unit_of_measurement: "W"

sensor: !include_dir_list ../entities/power/sensors/
automation old: !include_dir_list ../entities/power/automations/


utility_meter: 
  daily_energy:
    source: sensor.pzem_energy
    cycle: daily
  monthly_energy:
    source: sensor.pzem_energy
    cycle: monthly
    offset:
      days: 19


#################################################################
### Datawatt
#################################################################
#sensor datawatt:
### DataWatt
## Power
#- platform: mqtt
#name: "DW Total Power Usage"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_35_3.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Laundry"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_35_1.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Kitchen"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_35_0.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Kitchen Oven"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_35_2.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Kitchen Fridge"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_60_0.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Office"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_60_1.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Living Room"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_60_2.value | float ) * 1000 }}"

#- platform: mqtt
#name: "DW Power Usage Bedroom"
#device_class: power
#unit_of_measurement: "W"
#state_topic: "datawatt/power/status"
#value_template: "{{ ( value_json.Sensor_60_3.value | float ) * 1000 }}"

## Energy Hour
#- platform: mqtt
#name: "DW Total Energy Hour"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_35_3.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Laundry"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_35_1.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Kitchen"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_35_0.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Kitchen Oven"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_35_2.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Kitchen Fridge"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_60_0.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Office"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_60_1.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Living Room"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_60_2.value | float ) }}"

#- platform: mqtt
#name: "DW Energy Hour Bedroom"
#device_class: power
#unit_of_measurement: "kWh"
#state_topic: "datawatt/energy/hour/status"
#value_template: "{{ ( value_json.Sensor_60_3.value | float ) }}"


#################################################################
### Automations
#################################################################

  
