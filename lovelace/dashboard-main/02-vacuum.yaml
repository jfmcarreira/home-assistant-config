icon: "mdi:robot-vacuum"
path: vacuum
title: Aspirador Robô
panel: true
cards:
  - type: "custom:layout-card"
    layout: horizontal
    max_columns: 3
    cards:

      - type: "custom:vacuum-card"
        actions:
          - icon: "mdi:sofa"
            name: Aspirar Sala
            service: python_script.vacuum_room
            service_data:
              room: Living Room
              runs: 1
          - icon: "mdi:door-open"
            name: Aspirar Corredor
            service: python_script.vacuum_room
            service_data:
              room: Hallway
              runs: 1
          - icon: "mdi:stove"
            name: Aspirar Cozinha
            service: python_script.vacuum_room
            service_data:
              room: Kitchen
              runs: 1
          - icon: "mdi:toilet"
            name: Aspirar Casa de Banho Principal
            service: python_script.vacuum_room
            service_data:
              room: Bathroom
              runs: 1
          - icon: "mdi:desk"
            name: Aspirar Escritório
            service: python_script.vacuum_room
            service_data:
              room: Office
              runs: 1
          - icon: "mdi:bed-double"
            name: Aspirar Quarto
            service: python_script.vacuum_room
            service_data:
              room: Bedroom
              runs: 1
          - icon: "mdi:bed-queen-outline"
            name: Aspirar Quarto do Fundo
            service: python_script.vacuum_room
            service_data:
              room: Guest Bedroom
              runs: 1
        compact_view: false
        entity: vacuum.roborock
        show_name: true
        show_toolbar: true
        stats:
          cleaning:
            - attribute: cleaned_area
              subtitle: Área Limpa
              unit: m2
            - attribute: cleaning_time
              subtitle: Tempo de Limpeza
              unit: minutes
          default:
            - attribute: filter_left
              subtitle: Filtro
              unit: hours
            - attribute: side_brush_left
              subtitle: Escova Lateral
              unit: hours
            - attribute: main_brush_left
              subtitle: Escova Principal
              unit: hours
            - attribute: sensor_dirty_left
              subtitle: Sensores
              unit: hours
            

      - type: vertical-stack  
        cards:
          - type: entities
            entities:
              - input_boolean.vaccum_livingroom
              - input_boolean.vaccum_hallway
              - input_boolean.vaccum_kitchen
              - input_boolean.vaccum_bathroom
              - input_boolean.vaccum_office
              - input_boolean.vaccum_bedroom
              - input_boolean.vaccum_guestbedroom
            state_color: true
            title: Aspirador-Ready (5 máx.)
          - type: horizontal-stack
            cards:
              - aspect_ratio: 6/2
                entity: python_script.vacuum_room
                icon: "mdi:send"
                name: Aspirar Agora
                size: 100%
                tap_action:
                  action: call-service
                  service: python_script.vacuum_room
                  service_data:
                    room: switch_based
                    runs: 1
                type: "custom:button-card"
              - aspect_ratio: 6/2
                entity: python_script.vacuum_room
                icon: "mdi:send-clock"
                name: Aspirar em 15 minutos
                size: 100%
                tap_action:
                  action: call-service
                  service: python_script.vacuum_room
                  service_data:
                    delay: 15
                    room: switch_based
                    runs: 1
                type: "custom:button-card"

      - type: "custom:valetudo-map-card"
        #crop:
          #bottom: 60
          #left: 10
          #right: 0
          #top: 90
        entity: sensor.roborock_map
        #map_scale: 1
        #min_height: 0
        #rotate: 0
        title: Mapa de Limpeza
      
      - break
      - break
      - type: "custom:button-card"
        aspect_ratio: 12/2
        entity: script.task_roborock_clean
        icon: "mdi:broom"
        layout: icon_name_state
        name: Limpar Aspirador
        size: 100%
        tap_action:
          action: none
        hold_action:
          action: call-service
          service: script.task_roborock_clean
