square: false
columns: 4
type: grid
cards:
  - type: custom:button-card
    icon_height: 60px
    custom_fields:
      wet_clothes: |
        [[[
          if (states['binary_sensor.wash_machine_wet_clothes'].state == "on")
            return `<ha-icon icon="mdi:hanger"      style="width: 18px; height: 18px;"> </ha-icon>`
        ]]]
    entity: binary_sensor.washing_machine_state
    name: Lavar
    hold_action:
      action: call-service
      service: automation.trigger
      service_data:
        entity_id: automation.task_washing_machine
    size: 60px
    aspect_ratio: 7/6
    state:
      - operator: template
        value: >
          [[[ return states['binary_sensor.wash_machine_wet_clothes'].state ===
          'off' ]]]
        icon: mdi:washing-machine
      - operator: template
        value: >
          [[[ return states['binary_sensor.wash_machine_wet_clothes'].state ===
          'on' ]]]
        icon: mdi:washing-machine-alert
    styles:
      custom_fields:
        dry_clothes:
          - position: absolute
          - right: 10%
          - top: 10%
        wet_clothes:
          - position: absolute
          - left: 10%
          - top: 10%
      grid:
        - position: relative
  - type: custom:button-card
    icon_height: 60px
    entity: binary_sensor.dryer_machine_state
    name: Secar
    hold_action:
      action: call-service
      service: automation.trigger
      service_data:
        entity_id: automation.task_dryer_machine
    size: 60px
    aspect_ratio: 7/6
    state:
      - operator: template
        value: >
          [[[ return states['binary_sensor.dryer_machine_need_emtpy'].state ===
          'off' ]]]
        icon: mdi:tumble-dryer
      - operator: template
        value: >
          [[[ return states['binary_sensor.dryer_machine_need_emtpy'].state ===
          'on' ]]]
        icon: mdi:tumble-dryer-alert
    custom_fields:
      clean_dishes: |
        [[[
          if (states['binary_sensor.dryer_machine_need_emtpy'].state == "on")
            return `<ha-icon icon="mdi:tshirt-crew"      style="width: 18px; height: 18px;"> </ha-icon>`
        ]]]
    styles:
      custom_fields:
        clean_dishes:
          - position: absolute
          - left: 10%
          - top: 10%
      grid:
        - position: relative
  - type: custom:button-card
    icon_height: 60px
    entity: binary_sensor.dish_wash_machine_state
    name: Loiça
    hold_action:
      action: call-service
      service: automation.trigger
      service_data:
        entity_id: automation.task_dish_wash_machine
    size: 60px
    aspect_ratio: 7/6
    state:
      - operator: template
        value: >
          [[[ return states['binary_sensor.dish_wash_machine_clean'].state ===
          'off' ]]]
        icon: mdi:dishwasher
      - operator: template
        value: >
          [[[ return states['binary_sensor.dish_wash_machine_clean'].state ===
          'on' ]]]
        icon: mdi:dishwasher-alert
    custom_fields:
      clean_dishes: |
        [[[
          if (states['binary_sensor.dish_wash_machine_clean'].state == "on")
            return `<ha-icon icon="mdi:silverware-clean"      style="width: 18px; height: 18px;"> </ha-icon>`
        ]]]
    styles:
      custom_fields:
        clean_dishes:
          - position: absolute
          - left: 10%
          - top: 10%
      grid:
        - position: relative
  - show_name: true
    show_icon: true
    type: button
    entity: ''
    icon_height: 45px
    name: Routinas
    icon: mdi:calendar-sync
    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.popup
        data:
          auto_close: false
          content:
            type: grid
            square: false
            columns: 2
            cards:
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: script.routine_dinner_time
                  data: {}
                  target: {}
                entity: script.routine_dinner_time
                icon: mdi:silverware-fork-knife
                name: Routina de Refeição
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: script.routine_good_moorning
                  data: {}
                  target: {}
                entity: script.routine_good_moorning
                icon: mdi:weather-sunset
                name: Bom Dia
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: script.routine_bedtime_all_off
                  data: {}
                  target: {}
                entity: script.routine_bedtime_all_off
                icon: mdi:sleep
                name: Bom Noite (Desligar)
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: script.routine_exit_house_all_off
                  data: {}
                  target: {}
                entity: script.routine_exit_house_all_off
                icon: mdi:exit-run
                name: Sair de Casa (Desligar)
