script:
  vacuum_command:
    description: Launch Robot Vacuum
    fields:
      vacuum_command_args:
        description: Command to send to the vacuum
      vacuum_params_args:
        description: Parameters to send
    sequence:
      - service: vacuum.send_command
        data:  
          entity_id: vacuum.roborock
          command: "{{ vacuum_command_args }}"
          params: "{{ vacuum_params_args }}"
          
      - wait_template: "{{ is_state('vacuum.roborock', 'docked') }}"
      - service: vacuum.set_fan_speed
        data:
          entity_id: vacuum.roborock
          fan_speed: "medium"
