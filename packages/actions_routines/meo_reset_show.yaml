# The MEO box IP is stored in a helper entity
shell_command:
  meo_box_reset_program: python3 /config/shell_scripts/meo_box_reset_program.py {{ states("input_text.helper_living_room_tv_meo_box_ip") }} 0
  meo_box_reset_previous_program: python3 /config/shell_scripts/meo_box_reset_program.py {{ states("input_text.helper_living_room_tv_meo_box_ip") }} -1

script:
  meo_reset_current_show:
    alias: Routines Meo Reset Current Show
    sequence:
    - service: media_player.play_media
      data:
        entity_id: media_player.living_room_tv_meo_box
        media_content_id: "Info"
        media_content_type: "mediaroom"
    - delay: 00:00:01
    - service: media_player.play_media
      data:
        entity_id: media_player.living_room_tv_meo_box
        media_content_id: "Right"
        media_content_type: "mediaroom"
    - delay: 00:00:01
    - service: media_player.play_media
      data:
        entity_id: media_player.living_room_tv_meo_box
        media_content_id: "OK"
        media_content_type: "mediaroom"


  meo_reset_previous_show:
    alias: Routines Meo Reset Previous Show
    sequence:
      - service: media_player.play_media
        data:
          entity_id: media_player.living_room_tv_meo_box
          media_content_id: "Exit"
          media_content_type: "mediaroom"
      - delay: 00:00:01
      - service: media_player.play_media
        data:
          entity_id: media_player.living_room_tv_meo_box
          media_content_id: "Up"
          media_content_type: "mediaroom"
      - delay: 00:00:02
      - service: media_player.play_media
        data:
          entity_id: media_player.living_room_tv_meo_box
          media_content_id: "Left"
          media_content_type: "mediaroom"
      - delay: 00:00:01
      - service: media_player.play_media
        data:
          entity_id: media_player.living_room_tv_meo_box
          media_content_id: "OK"
          media_content_type: "mediaroom"
      - delay: 00:00:01
      - service: media_player.play_media
        data:
          entity_id: media_player.living_room_tv_meo_box
          media_content_id: "OK"
          media_content_type: "mediaroom"
