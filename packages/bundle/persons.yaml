################################################################
## Presence Detection and persons
################################################################

## Customize
homeassistant:
  customize:
    person.bianca:
      icon: mdi:human-female
    device_tracker.calcium:
      entity_picture: /local/img_bianca_1_1.jpg
    proximity.dist_home_bianca:
      friendly_name: Dist창ncia a Casa Bianca
    device_tracker.bianca_amazfit:
      entity_picture: /local/img_bianca_1_1.jpg
      friendly_name: AmazFit Bianca
    person.joao:
      icon: mdi:human-male
    device_tracker.magnesium:
      entity_picture: /local/img_joao_1_1.jpg
    proximity.dist_home_joao:
      friendly_name: Dist창ncia a Casa Jo찾o
    device_tracker.joao_amazfit:
      entity_picture: /local/img_joao_1_1.jpg
      friendly_name: AmazFit Jo찾o

sensor presence:
  - platform: mqtt_room
    name: Amazfit Joao
    device_id: amazfit_joao
    state_topic: room_presence
    away_timeout: 60
    timeout: 10

  - platform: mqtt_room
    name: Amazfit Bianca
    device_id: amazfit_bianca
    state_topic: room_presence
    away_timeout: 60
    timeout: 10

## Device tracker
device_tracker:
  - platform: ping
    interval_seconds: 30
    consider_home: 60
    new_device_defaults:
      track_new_devices: true
    hosts:
      magnesium_wifi: !secret magnesium_ip
      calcium_wifi: !secret calcium_ip
      #barium_wifi: !secret barium_ip

  - platform: mqtt
    #Note: This is used in combination with NodeRed and ESPHome
    source_type: bluetooth_le
    devices:
      joao_amazfit: "home-assistant/location/joao_amazfit"
      bianca_amazfit: "home-assistant/location/bianca_amazfit"

## Persons - Managed by UI
person:

## Proximity
proximity:
  dist_home_joao:
    zone: home
    ignored_zones:
      - home
    devices:
      - device_tracker.magnesium
    unit_of_measurement: m
    tolerance: 50
  dist_home_bianca:
    zone: home
    ignored_zones:
      - home
    devices:
      - device_tracker.calcium
    unit_of_measurement: m
    tolerance: 50
