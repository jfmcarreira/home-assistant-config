# This handles the climate entities
#
# https://www.home-assistant.io/integrations/generic_thermostat/
#
climate:
  - platform: generic_thermostat
    name: Portable Heater
    heater: switch.plug_heater
    target_sensor: sensor.heating_portable_temperature
    min_temp: 14
    max_temp: 25
    min_cycle_duration:
      minutes: 5
    cold_tolerance: .2
    hot_tolerance: .2

sensor:
  - platform: template
    sensors:
      heating_portable_temperature:
        friendly_name: "Heating Portable Temperature"
        device_class: temperature
        value_template: >
          {% if is_state("input_select.heating_portable_temperature_selection", "Sala") %} 
            {{ states( 'sensor.living_room_temperature' ) }}
          {% elif is_state("input_select.heating_portable_temperature_selection", "Quarto") %} 
            {{ states( 'sensor.master_bedroom_temperature' ) }}
          {% elif is_state("input_select.heating_portable_temperature_selection", "Escrit√≥rio") %} 
            {{ states( 'sensor.office_temperature' ) }}
          {% else %}
            {{ states( 'sensor.average_temperature' ) }}
          {% endif %}
        entity_id:
          - input_select.heating_portable_temperature_selection
          - sensor.average_temperature
          - sensor.living_room_temperature
          - sensor.master_bedroom_temperature
          - sensor.office_temperature
