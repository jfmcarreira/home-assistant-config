homeassistant:
  customize:
    light.hallway_wall:
      friendly_name: Luz de Parede do Corredor
      icon: mdi:wall-sconce-flat
    light.hallway_mirror:
      friendly_name: Luz do Espelho do Corredor
      icon: mdi:led-strip
    light.hallway_presence_group:
      friendly_name: Luzes de PresenÃ§a do Corredor

light:
  - platform: switch
    name: Hallway Wall
    entity_id: switch.hallway_wall

  - platform: switch
    name: Hallway Mirror
    entity_id: switch.hallway_mirror_light

  - platform: group
    name: hallway_presence_group
    entities:
      - light.hallway_wall
      - light.hallway_mirror

  - platform: template
    lights:
      hallway_group:
        friendly_name: Luzes do Corredor
        icon_template: mdi:lightbulb-group
        value_template: >
          {{ 
            is_state('light.hallway', 'on') or
            is_state('light.hallway_presence', 'on') or
            is_state('light.hallway_mirror', 'on')            
          }}
        turn_on:
          - service: light.turn_on
            entity_id: light.hallway
        turn_off:
          - service: light.turn_off
            entity_id: light.hallway
          - service: light.turn_off
            entity_id: light.hallway_mirror
          - service: light.turn_off
            entity_id: light.hallway_wall
