################################################################
## Dish Wash Task
################################################################
homeassistant:
  customize:
    binary_sensor.dish_wash_machine_door:
      device_class: door
    binary_sensor.dish_wash_machine_state:
      friendly_name: "Máquina de Lavar Loiça"
      icon: mdi:dishwasher
    sensor.task_dish_washing_last_done:
      icon: mdi:silverware-clean
      friendly_name: Lavagem da Loiça
      device_class: timestamp
    sensor.task_dish_wash_empty_last_done:
      icon: mdi:silverware
      friendly_name: Retir a Loiça da Máquina
      device_class: timestamp
    binary_sensor.dish_wash_machine_need_emtpy:
      friendly_name: Existe Loiça Lavada na Máquina

    automation.task_dish_wash_empty_machine_reminder:
      friendly_name: Máq. da Loiça - Relembrar de Retirar a Loiça
    automation.task_dish_wash_machine_finished:
      friendly_name: Máq. da Loiça - Lavagem Terminou
    automation.task_dish_wash_remove_dish_done:
      friendly_name: Máq. da Loiça - Loiça Retirada

sensor timestamps:
  - platform: sql
    db_url: !secret db_custom_url
    queries:
      - name: task_dish_washing_last_done
        query: >-
          SELECT * FROM tasks
          WHERE task_name LIKE 'Dish_Wash_Machine_Clean'
          ORDER BY date  DESC LIMIT 1;
        column: date

  - platform: sql
    db_url: !secret db_custom_url
    queries:
      - name: task_dish_wash_empty_last_done
        query: >-
          SELECT * FROM tasks
          WHERE task_name LIKE 'Dish_Wash_Machine_Empty'
          ORDER BY date  DESC LIMIT 1;
        column: date
