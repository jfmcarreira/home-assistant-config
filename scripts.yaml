routine_bedtime_all_off:
  alias: Routina de Boa Noite (Desligar Tudo)
  sequence:
  - service: script.turn_on
    data: {}
    target:
      entity_id: script.house_turn_all_off
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
  - service: light.turn_on
    data: {}
    target:
      entity_id: light.stairs_wall
  - delay:
      hours: 0
      minutes: 0
      seconds: 45
      milliseconds: 0
  - service: light.turn_off
    data:
      entity_id: all
  - service: input_select.select_option
    data:
      option: Sleep
    target:
      entity_id: input_select.house_mode
  mode: single
house_turn_all_off:
  alias: House Turn Everything Off
  mode: restart
  sequence:
  - service: light.turn_off
    data:
      entity_id: all
  - service: fan.turn_off
    data:
      entity_id: all
  - service: media_player.turn_off
    data: {}
    target:
      entity_id:
      - media_player.google_home_speakers
      - media_player.living_room_tv
routine_good_moorning:
  alias: Routina de Bom Dia
  sequence:
  - service: cover.set_cover_position
    data:
      entity_id: all
      position: 30
  mode: single
routine_exit_house_all_off:
  alias: Routina de Sair de Casa (Desligar Tudo)
  sequence:
  - service: script.turn_on
    data: {}
    target:
      entity_id: script.house_turn_all_off
  - delay:
      hours: 0
      minutes: 0
      seconds: 2
      milliseconds: 0
  - condition: numeric_state
    entity_id: sun.sun
    attribute: elevation
    below: '0'
  - service: light.turn_on
    data: {}
    target:
      entity_id:
      - light.kitchen_led
      - light.kitchen_door
      - light.exterior_wall_side
  - wait_for_trigger:
    - platform: state
      entity_id:
      - binary_sensor.kitchen_door
      to: 'on'
    timeout: 00:05:00
  - wait_for_trigger:
    - platform: state
      entity_id:
      - binary_sensor.kitchen_door
      to: 'off'
    timeout: 00:05:00
  - service: light.turn_off
    data: {}
    target:
      area_id: kitchen
  - delay:
      hours: 0
      minutes: 1
      seconds: 0
      milliseconds: 0
  - service: light.turn_off
    data:
      entity_id: all
  mode: single
cover_group_action:
  alias: Controlo Grupo de Estores
  sequence:
  - condition: "{% set list_of_covers = [] %}  {% if is_state('switch.cover_control_'
      + control_switch + '_living_room', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.living_room'] %}\n{% endif %} {% if is_state('switch.cover_control_'
      + control_switch + '_kitchen', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.kitchen'] %}\n{% endif %} {% if is_state('switch.cover_control_' +
      control_switch + '_laundry', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.laundry'] %}\n{% endif %} {% if is_state('switch.cover_control_' +
      control_switch + '_bathroom', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.bathroom'] %}\n{% endif %} {% if is_state('switch.cover_control_'
      + control_switch + '_bedroom_rc', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.bedroom_rc'] %}\n{% endif %} {% if is_state('switch.cover_control_'
      + control_switch + '_office', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.office'] %}\n{% endif %} {% if is_state('switch.cover_control_' +
      control_switch + '_master_bedroom', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.master_bedroom'] %}\n{% endif %} {% if is_state('switch.cover_control_'
      + control_switch + '_bedroom_ricardo', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.bedroom_ricardo'] %}\n{% endif %} {% if is_state('switch.cover_control_'
      + control_switch + '_bedroom_guest', 'on') %}\n  {% set list_of_covers = list_of_covers
      + ['cover.bedroom_guest'] %}\n{% endif %} {% if list_of_covers|join(',')|length
      > 0 %}\n  {{ True }}\n{% else %}\n  {{ False }}\n{% endif %}"
  - service: '{{ action_to_run }}'
    data:
      entity_id: "{% set list_of_covers = [] %} {% if is_state('switch.cover_control_'
        + control_switch + '_living_room', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.living_room'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_kitchen', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.kitchen'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_laundry', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.laundry'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_bathroom', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.bathroom'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_bedroom_rc', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.bedroom_rc'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_office', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.office'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_master_bedroom', 'on') %}\n  {% set list_of_covers =
        list_of_covers + ['cover.master_bedroom'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_bedroom_ricardo', 'on') %}\n  {% set list_of_covers =
        list_of_covers + ['cover.bedroom_ricardo'] %}\n{% endif %} {% if is_state('switch.cover_control_'
        + control_switch + '_bedroom_guest', 'on') %}\n  {% set list_of_covers = list_of_covers
        + ['cover.bedroom_guest'] %}\n{% endif %} {{ list_of_covers|join(',') }}"
  mode: single
lights_arriving_home:
  alias: 'Lights Arriving Home '
  sequence:
  - condition: state
    entity_id: light.outside_group
    state: 'off'
  - service: light.turn_on
    target:
      entity_id:
      - light.exterior_wall_back
      - light.exterior_wall_side
    data: {}
  - wait_for_trigger:
    - platform: state
      entity_id:
      - binary_sensor.kitchen_door
      to: 'on'
    timeout:
      minutes: 30
  - wait_for_trigger:
    - platform: state
      entity_id:
      - binary_sensor.kitchen_door
      to: 'off'
    timeout:
      minutes: 30
  - delay:
      hours: 0
      minutes: 5
      seconds: 0
      milliseconds: 0
  - service: light.turn_off
    target:
      entity_id:
      - light.exterior_wall_side
      - light.exterior_wall_back
    data: {}
  mode: single
show_word_party:
  alias: Festa das Palavras na Televis√£o
  sequence:
  - service: python_script.netflix_play_show
    data:
      show: festa das palavras
  mode: single
